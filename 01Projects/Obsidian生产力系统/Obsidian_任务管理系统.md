---
area: å·¥ä½œ
category:
  - ç”Ÿäº§åŠ›ç³»ç»Ÿ
domain: 
client:
  - "[[Lifein]]"
project:
  - "[[Obsidianç”Ÿäº§åŠ›ç³»ç»Ÿ]]"
status:
  - å®Œæˆ
tags:
  - Project
aliases: 
stars: 3æ˜Ÿçº§
number headings: auto, first-level 2, max 6, contents ^toc, skip ^skipped, start-at 1, _.1.1
Summary: 
people: 
created date: 2025-02-24 02:35
modified date: 2025-05-10 19:05:00
start_date: 2025-02-24
stop_date: 2025-04-07
cssclasses: []
---

## ä»»åŠ¡æ¸…å•^skipped
- [x] ç¼–å†™å¡ç‰‡å¼ä»»åŠ¡é¢ç‰ˆä»£ç ï¼Œå®ç°æŒ‰ç…§æ—¶é—´/çŠ¶æ€åˆ†ç±»çš„ä»»åŠ¡å±•ç¤º â• 2025-05-03 âœ… 2025-05-03
- [x] ç¼–å†™å¡ç‰‡å¼ä»»åŠ¡é¢ç‰ˆæ ·å¼æ–‡ä»¶ï¼Œå¹¶è°ƒæ•´ä½¿æ ·å¼ç¾è§‚ â• 2025-05-03 âœ… 2025-05-03
- [x] åˆ¶ä½œå¡ç‰‡å¼ä»»åŠ¡é¢ç‰ˆç²¾ç®€ç‰ˆï¼Œç”¨äº[[é¦–é¡µ]]å±•ç¤º â• 2025-05-03 âœ… 2025-05-03
- [x] æ’°å†™å¡ç‰‡å¼ä»»åŠ¡é¢ç‰ˆä»£ç å’Œæ ·å¼ä½¿ç”¨æŒ‡å— â• 2025-05-03 ğŸ“… 2025-05-04 âœ… 2025-05-05
- [x] åˆ†äº«å¡ç‰‡å¼ä»»åŠ¡é¢ç‰ˆåˆ°Obsidianä¸­æ–‡è®ºå› â• 2025-05-03 ğŸ“… 2025-05-05 âœ… 2025-05-05
- [x] æ•´ç†redditå’ŒGitHubä¸Šçš„ä»»åŠ¡ç®¡ç†åº“ â• 2025-02-24 âœ… 2025-04-07
- [x] è§‚çœ‹YouTubeã€Bç«™ä¸Šçš„OBä»»åŠ¡ç®¡ç†è§†é¢‘ ğŸ”¼ â• 2025-02-24 ğŸ“… 2025-03-02 âœ… 2025-04-07

## 1 é¡¹ç›®è¯´æ˜

### 1.1 é¡¹ç›®ç›®æ ‡
é€šè¿‡Dataviewjsä»£ç å®ç°å¡ç‰‡å¼ä»»åŠ¡ç®¡ç†é¢ç‰ˆï¼š
- æ”¶é›†å¤šä¸ªé¡¹ç›®æ–‡ä»¶å¤¹ä¸‹çš„å…¨éƒ¨ä»»åŠ¡ï¼›
- æŒ‰ç…§æ—¶é—´çŠ¶æ€åˆ†ç±»ï¼ˆå¦‚ï¼šé€¾æœŸã€è¿›è¡Œä¸­ã€å¾…åŠã€ä»Šæ—¥ã€æ˜æ—¥ã€ä¸€å‘¨å†…ã€ä¸€å‘¨åï¼ˆæœªæ¥ï¼‰ã€å®Œæˆï¼‰ï¼›
- å±•ç¤ºä¸ºå¸¦æœ‰ç‚¹å‡»åˆ‡æ¢åŠŸèƒ½çš„ä»»åŠ¡é¢æ¿ï¼›
	- å½“ç‚¹å‡»ã€Œé€¾æœŸã€åˆ†ç±»æ—¶ï¼Œä¸‹æ–¹åªæ˜¾ç¤ºã€Œé€¾æœŸã€çš„ä»»åŠ¡åˆ—è¡¨
	- å½“ç‚¹å‡»ã€Œè¿›è¡Œä¸­ã€åˆ†ç±»æ—¶ï¼Œä¸‹æ–¹åªæ˜¾ç¤ºã€Œè¿›è¡Œä¸­ã€çš„ä»»åŠ¡åˆ—è¡¨
- ä½¿ç”¨Â `tasks`Â æ’ä»¶è¯­æ³•åŠ¨æ€ç”ŸæˆæŸ¥è¯¢å¹¶æ¸²æŸ“ä»»åŠ¡åˆ—è¡¨ã€‚ç›´æ¥åº”ç”¨äºç°æœ‰ä»»åŠ¡åˆ—è¡¨ï¼Œæ— éœ€ä»»ä½•æ›´æ”¹ã€‚
	- éœ€è¦å¯¹ä»»åŠ¡è¿›è¡Œä¿®æ”¹æ—¶ï¼Œç›´æ¥åœ¨ç‚¹å‡»ä»»åŠ¡æ–‡å­—åçš„ç¼–è¾‘å›¾æ ‡å³å¯ï¼›ç‚¹å‡»ä»»åŠ¡æ–‡æœ¬æœ€åçš„è¶…é“¾æ¥ï¼Œç›´æ¥è·³è½¬åˆ°ä»»åŠ¡æ‰€åœ¨æ–‡ä»¶ã€‚
- å¡ç‰‡æ ·å¼è‡ªé€‚åº”ã€‚

### 1.2 é¡¹ç›®ä¿¡æ¯
é‡åˆ°çš„é—®é¢˜
- é—®é¢˜åœ¨äº `dv.paragraph(...)` æ’å…¥çš„å†…å®¹æ˜¯ çº¯æ–‡æœ¬ Markdownï¼Œç”± Obsidian æ¸²æŸ“å™¨å¼‚æ­¥åŠ è½½ä¸ºä»»åŠ¡å—ã€‚è¿™ä¼šå¯¼è‡´å³ä½¿ä½ æ¸…é™¤äº† HTML å…ƒç´ ï¼Œä»»åŠ¡å—ä»ç„¶æ®‹ç•™ï¼ˆå› ä¸º dv.paragraph ç”Ÿæˆçš„æ˜¯ textNodeï¼Œä¸æ˜¯ Obsidian æ¸²æŸ“çš„ä»»åŠ¡å— DOMï¼‰ã€‚
æ­£ç¡®è§£å†³æ–¹å¼ï¼š
- ä½ éœ€è¦åœ¨ `updateTasksView()` ä¸­ç”¨ **`.innerHTML = ""` æ¸…é™¤ queryContainer æœ¬èº«**ï¼Œå¹¶**é‡æ–°åˆ›å»ºå®ƒ**ï¼Œ**ä¸èƒ½åªæ¸…ç©ºå†…éƒ¨å†…å®¹**ï¼Œå¦åˆ™ Obsidian æ¸²æŸ“å‡ºæ¥çš„ä»»åŠ¡å—ä¸ä¼šè¢«é”€æ¯ã€‚


#### 1.2.1 DVJSä»£ç 
```dataviewjs
// ==== 1. æ”¶é›†ä»»åŠ¡ ====
let taskSources = ["01Projects", "02Business", "00Todolist", "07People", "00Journal"];
let tasks = [];

// æ ¹æ®åˆ—è¡¨ä¿¡æ¯æ·»åŠ ä»»åŠ¡
for (let source of taskSources) {
    tasks.push(...dv.pages(`"${source}"`).file.tasks);
}

let today = dv.date("today");
let tomorrow = dv.date("tomorrow");
let oneWeekLater = today.plus({ days: 6 });

// ==== 2. åˆ†ç±»ä»»åŠ¡ ====
let expiredTasks = tasks.filter(t => t.status === " " && (
    (t.due && dv.date(t.due).toJSDate() < today.toJSDate()) ||
    (t.scheduled && dv.date(t.scheduled).toJSDate() < today.toJSDate())
));
let ongoingTasks = tasks.filter(t => t.status === "/");
let todoTasks = tasks.filter(t => t.status === " " && (!t.due && !t.scheduled));
let todayTasks = tasks.filter(t => t.status === " " && (
    (t.due && dv.date(t.due).toJSDate().toDateString() === today.toJSDate().toDateString()) ||
    (t.scheduled && dv.date(t.scheduled).toJSDate().toDateString() === today.toJSDate().toDateString())
));
let tomorrowTasks = tasks.filter(t => t.status === " " && (
    (t.due && dv.date(t.due).toJSDate().toDateString() === tomorrow.toJSDate().toDateString()) ||
    (t.scheduled && dv.date(t.scheduled).toJSDate().toDateString() === tomorrow.toJSDate().toDateString())
));
let thisWeekTasks = tasks.filter(t => t.status === " " && (
    (t.due && dv.date(t.due).toJSDate() > tomorrow.toJSDate() && dv.date(t.due).toJSDate() <= oneWeekLater.toJSDate()) ||
    (t.scheduled && dv.date(t.scheduled).toJSDate() > tomorrow.toJSDate() && dv.date(t.scheduled).toJSDate() <= oneWeekLater.toJSDate())
));
let afterSevenDaysTasks = tasks.filter(t => t.status === " " && (
    (t.due && dv.date(t.due).toJSDate() > oneWeekLater.toJSDate()) ||
    (t.scheduled && dv.date(t.scheduled).toJSDate() > oneWeekLater.toJSDate())
));
let completedTasks = tasks.filter(t => t.status === "x");

// ==== 3. åˆ†ç±»å®šä¹‰ ====
const cardsContainer = document.createElement('div');
cardsContainer.className = 'cards-container';

let categories = [
  { name: "é€¾æœŸ", query: ` (not done) AND ((due before today) OR (scheduled before today)) AND (status.type is not IN_PROGRESS)`, tasks: expiredTasks, color: "#ff4c4c" },
  { name: "è¿›è¡Œä¸­", query: `status.type is IN_PROGRESS`, tasks: ongoingTasks, color: "#4caf50" },
  { name: "å¾…åŠ", query: `(not done) AND ((no due date) AND (no scheduled date)) AND (status.type is not IN_PROGRESS)`, tasks: todoTasks, color: "#ff9800" },
  { name: "ä»Šå¤©", query: ` (not done) AND ((scheduled on today) OR (due on today)) AND (status.type is not IN_PROGRESS)`, tasks: todayTasks, color: "#ffffff" },
  { name: "æ˜å¤©", query: ` (not done) AND ((due on tomorrow) OR (scheduled on tomorrow)) AND (status.type is not IN_PROGRESS)`, tasks: tomorrowTasks, color: "#00bcd4" },
  { name: "ä¸€å‘¨å†…", query: ` (not done) AND ((due after tomorrow) AND (due before in 7 day)) OR ((scheduled after tomorrow) AND (scheduled before in 7 day)) AND (status.type is not IN_PROGRESS)`, tasks: thisWeekTasks, color: "#8bc34a" },
  { name: "æœªæ¥", query: ` (not done) AND ((due after in 7 day) OR (scheduled after in 7 day)) AND (status.type is not IN_PROGRESS)`, tasks: afterSevenDaysTasks, color: "#bbbbbb" },
  { name: "å·²å®Œæˆ", query: `done`, tasks: completedTasks, color: "#9e9e9e" },
];

// å½“å‰é€‰ä¸­åˆ†ç±»ç´¢å¼•ï¼ˆç”¨äºé«˜äº®ï¼‰
let currentIndex = 0;

// ==== 4. æ¸²æŸ“åˆ†ç±»å¡ç‰‡ ====
categories.forEach((cat, index) => {
  let card = cardsContainer.createDiv({ cls: "card" });

  // å¡ç‰‡ç‚¹å‡»äº‹ä»¶ï¼šé«˜äº®å¹¶åˆ‡æ¢ä»»åŠ¡
  card.onclick = () => {
    currentIndex = index;
    Array.from(cardsContainer.children).forEach((c, i) => {
      c.classList.toggle("active", i === index);
    });
    showTasks(index);
  };

  // æ•°å­—ï¼ˆå³ä½¿ä¸º 0 ä¹Ÿæ˜¾ç¤ºï¼‰
  let numberDiv = card.createDiv({ cls: "number", text: cat.tasks.length.toString() });
  numberDiv.style.color = cat.color;

  // æ ‡ç­¾æ–‡å­—
  let labelDiv = card.createDiv({ cls: "label", text: cat.name });

  // ä¸‹åˆ’çº¿é¢œè‰²
  let underline = card.createDiv({ cls: "underline" });
  underline.style.backgroundColor = cat.color;
});

// ==== 5. åˆ›å»ºä»»åŠ¡æ˜¾ç¤ºåŒºåŸŸ ====
const taskListContainer = document.createElement('div');
taskListContainer.className = 'task-list';

// ==== 6. æ¸²æŸ“ä»»åŠ¡å— ====
function showTasks(index) {
  // æ¸…ç©ºå¹¶é‡æ–°æŒ‚è½½ç»“æ„
  dv.container.innerHTML = "";
  dv.container.appendChild(cardsContainer);
  dv.container.appendChild(taskListContainer);

  let queryContainer = taskListContainer.createDiv();

// æŸ¥è¯¢è·¯å¾„æ¡ä»¶
let basePaths = taskSources.map(source => `(path includes ${source})`).join(" OR ");
  // æ„å»ºä»»åŠ¡æŸ¥è¯¢ä»£ç å—
  let query = [
    categories[index].query,
    basePaths,
    "sort by priority",
    "sort by created reverse",
    "short mode",
    "show tree"
  ].join("\n");

  // âœ… æ„é€ å®Œæ•´ Markdown ä»£ç å—
  let fullBlock = "```tasks\n" + query + "\n```";

  // âœ… æ’å…¥æŸ¥è¯¢è¯­å¥ï¼ˆä½œä¸ºçº¯ Markdown å—ï¼Œç”± Obsidian Task æ’ä»¶è§£æï¼‰
  dv.paragraph(fullBlock, queryContainer);
}

// ==== 7. é»˜è®¤åŠ è½½â€œä»Šå¤©â€åˆ†ç±» ====
currentIndex = 3;
Array.from(cardsContainer.children).forEach((c, i) => {
  c.classList.toggle("active", i === currentIndex);
});
showTasks(currentIndex);
```

##### 1.2.1.1 Dvjsä»£ç è¯´æ˜
- è®¾ç½®äº† `.cards-container` ï¼ˆå¡ç‰‡å®¹å™¨ï¼‰æ¨ªå‘å¸ƒå±€ï¼Œä½†ä½ çš„ DataviewJS è„šæœ¬ä¸­ `cardsContainer.className = 'task-list'`ï¼Œæ„å¤– è¦†ç›–æ‰äº†åŸæ¥çš„ `cards-container` ç±»åï¼Œå¯¼è‡´ä½ çš„å¡ç‰‡å®¹å™¨ä¸å†ä½¿ç”¨ä½ è®¾å®šçš„æ ·å¼ã€‚
- ä»»åŠ¡å—å®¹å™¨ `taskListContainer` è®¾ä¸º `task-list`ï¼Œå¡ç‰‡å®¹å™¨ `cardsContainer` ä»ä¿ç•™ `cards-container` ç±»åã€‚
- å½“ä»»åŠ¡æ•°é‡ä¸º 0 æ—¶ï¼Œå¡ç‰‡æŒ‰é’®ä¸­æ²¡æœ‰æ˜¾ç¤ºæ•°å­— "0"ã€‚è¿™æ˜¯å› ä¸º `card.createDiv({cls: "number", text: cat.tasks.length})` ä¸­ `text` å€¼ä¸º `0` æ—¶ï¼Œæœ‰å¯èƒ½è¢«è®¤ä¸ºæ˜¯â€œç©ºæ–‡æœ¬â€è€Œæ²¡æœ‰æ¸²æŸ“ã€‚
	- åœ¨æŸäº› HTML æ¸²æŸ“ç¯å¢ƒä¸­ï¼Œ`text: 0` ä¼šè¢«å½“æˆ falsy å€¼å¤„ç†ï¼Œæœ€ç»ˆä¸åˆ›å»ºæˆ–æ¸²æŸ“è¿™ä¸ªå…ƒç´ çš„å†…å®¹ã€‚å¼ºåˆ¶è½¬æ¢ä¸ºå­—ç¬¦ä¸² `"0"` å¯ç¡®ä¿æ•°å­—å§‹ç»ˆæ˜¾ç¤ºã€‚
	- ä¿®æ”¹ä¸º`let numberDiv = card.createDiv({cls: "number", text: String(cat.tasks.length)}); // âœ… ç¡®ä¿æ˜¾ç¤º 0`
- `let currentIndex = 0;`çš„ä½œç”¨
	- åœ¨åˆ‡æ¢åˆ†ç±»æ—¶ï¼Œé«˜äº®å½“å‰æŒ‰é’®
		- åœ¨ç‚¹å‡»åˆ†ç±»å¡ç‰‡æ—¶ï¼Œ**æ·»åŠ ä¸€ä¸ªç±» `active` åˆ°å½“å‰å¡ç‰‡**ï¼Œå¹¶ç§»é™¤å…¶ä»–å¡ç‰‡çš„ `active` ç±»
		- åœ¨æ ·å¼ä¸­å®šä¹‰ `.card.active` çš„é«˜äº®æ•ˆæœ
	- åˆ‡æ¢åæŸäº›çŠ¶æ€ä¾èµ– `currentIndex`ï¼ˆä¾‹å¦‚æœªæ¥åŠ è¿”å›æŒ‰é’®æˆ–æ»šåŠ¨å®šä½ï¼‰
	- é¿å…é‡å¤ç‚¹å‡»åŒä¸€ä¸ªåˆ†ç±»é€ æˆå¤šæ¬¡æ¸²æŸ“

##### 1.2.1.2 ä½¿ç”¨è¯´æ˜
- è‡ªå®šä¹‰è¦æ”¶é›†ä»»åŠ¡çš„æ–‡ä»¶ç›®å½•ï¼Œåœ¨ä»£ç æœ€å¼€å§‹çš„`1.æ”¶é›†ä»»åŠ¡`ä¸­çš„`dv.pages`ä¸­è®¾ç½®ï¼›æœ‰å‡ ä¸ªæ–‡ä»¶å¤¹å°±å®šä¹‰å‡ ä¸ª`tasks`ï¼Œå‰ååºå·è¦ä¸€è‡´ã€‚
- éœ€è¦è°ƒæ•´åˆ†ç±»å¡ç‰‡çš„é¡ºåºï¼Œå¯ä»¥åœ¨`3.åˆ†ç±»å®šä¹‰`ä¸­è°ƒæ•´å‰åé¡ºåºã€‚
- éœ€è¦ä¿®æ”¹`task`çš„æ ·å¼ã€ä¼˜å…ˆçº§ã€æ’åºç­‰ï¼Œåœ¨`6.æ¸²æŸ“ä»»åŠ¡å—`ä¸­çš„`æ„å»ºä»»åŠ¡æŸ¥è¯¢ä»£ç å—`ä¸­æŒ‰éœ€ä¿®æ”¹ï¼Œå®Œå…¨é‡‡ç”¨`task`æ’ä»¶åŸç”Ÿè¯­æ³•ã€‚
- ä¿®æ”¹é»˜è®¤å±•ç¤ºçš„ä»»åŠ¡åˆ†ç±»ï¼Œåœ¨`7.é»˜è®¤åŠ è½½"ä»Šå¤©"åˆ†ç±»`ä¸­ä¿®æ”¹æ•°å­—`3`ä¸ºä½ å¸Œæœ›çš„åˆ†ç±»å¯¹åº”çš„åºå·ï¼ˆåºå·ä»0å¼€å§‹ï¼Œå³ç¬¬ä¸€ä¸ªåˆ†ç±»åºå·ä¸º0ï¼‰
- å¯¹äºå¡ç‰‡æ ·å¼ä¿®æ”¹ï¼Œè‡ªè¡Œåœ¨CSSæ ·å¼ä»£ç ä¸­ä¿®æ”¹ã€‚

#### 1.2.2 å¡ç‰‡æ ·å¼CSSä»£ç 
````css fold

/* ------ å¡ç‰‡å¼ä»»åŠ¡é¢ç‰ˆæ ·å¼ -----*/
.dropdown-container {
  margin-bottom: 1em;
}

.cards-container {
  display: flex;
  flex-wrap: wrap;
  column-gap: 1px; /* æ§åˆ¶å¡ç‰‡å·¦å³é—´è· */
  row-gap: 2px;     /* æ§åˆ¶å¡ç‰‡ä¸Šä¸‹é—´è· */
  margin: 1px 0px; 
}

.card {
  background: var(--background-secondary);
  border-radius: 4px; /* 12px */
  box-shadow: var(--shadow-s); 
  padding: 8px 0px; /*10px*/
  margin: 0px 1px;
  width: 60px;
  height: 60px;
  min-width: 45px;
  text-align: center;
  cursor: pointer;
  transition: transform 0.2s ease; /* background 0.3s; */
}

.card:hover {
  transform: scale(1.05);
  background: #333;
}

.card .number {
  font-size: 1em;
  font-weight: bold;
  margin-top: -7px;
  padding-top: 0px;
}

.card .label {
  font-size: 0.8em;
  color: var(--text-muted);
  margin-top: 4px;
}


.underline {
  width: 36px;
  height: 1.5px;
  margin: 1px auto 0;
  border-radius: 1px;
}

.task-list {
  margin-top: 2px;
  padding-top: 0px;
  border-top: 1.5px solid #444;
}

.task-item {
  margin: 5px 0;
  font-size: 14px;
}

/* .cards-container .card.active {
/*   border: 1px solid var(--text-accent); /*è®©æ¿€æ´»å¡ç‰‡é‡‡ç”¨é«˜äº®è¾¹æ¡†*/
/*  background-color: var(--background-secondary-alt); 
/*   transform: scale(1.05);
/* } */

.cards-container .card.active {
  background-color: var(--background-modifier-hover); /*var(--interactive-accent)ï¼šè®©æ¿€æ´»å¡ç‰‡é‡‡ç”¨ä¸»é¢˜å¼ºè°ƒè‰²èƒŒæ™¯ã€‚*/
  color: white;
}

.cards-container .card.active .number,
.cards-container .card.active .label {
  color: white;
}

.cards-container .card.active .underline {
  background-color: white;
}



````



### 1.3 ç›¸å…³èµ„æº

- [How to get tasks in current file - Tasks User Guide - Obsidian Publish](https://publish.obsidian.md/tasks/How+To/How+to+get+tasks+in+current+file#Using+Dataview+to+generate+Tasks+blocks+-+the+old+way)
- [GTD with Obsidian: a ready-to-go GTD system with Task Sequencing, Quick-add template, Waiting-on, Someday/Maybe, and more - Share & showcase - Obsidian Forum](https://forum.obsidian.md/t/gtd-with-obsidian-a-ready-to-go-gtd-system-with-task-sequencing-quick-add-template-waiting-on-someday-maybe-and-more/65502/27)

## 2 å­é¡¹ç›®

```dataview
table without id 
  file.link as é¡¹ç›®åç§°,
  client as å®¢æˆ·,
  status as çŠ¶æ€,
  stars as ç´§æ€¥ç¨‹åº¦,
  start_date AS å¯åŠ¨æ—¶é—´,
  stop_date AS åœæ­¢æ—¶é—´,
  date(today) - file.cday AS å·²å¯åŠ¨
from ""
where contains(project, link(this.file.name)) AND contains(tags, "Project")
sort stars desc, file.ctime desc
```

## 3 åŒçº§é¡¹ç›®

```dataview
table without id 
  file.link as é¡¹ç›®åç§°,
  client as å®¢æˆ·,
  status as çŠ¶æ€,
  stars as ç´§æ€¥ç¨‹åº¦,
  start_date AS å¯åŠ¨æ—¶é—´,
  stop_date AS åœæ­¢æ—¶é—´,
  date(today) - file.cday AS å·²å¯åŠ¨
from ""
where project = this.project AND contains(tags, "Project") AND file.name != this.file.name
sort stars desc, file.ctime desc
```

## 4 ç›¸å…³æ—¥è®°
```dataview
table without id
  file.link as æ—¥æœŸ,
  regexreplace(L.text, "#\S+", "") as å†…å®¹
from "00Journal/01DailyNotes"
flatten file.lists as L
where contains(L.text, "[[" + this.file.name + "]]") 
```

## 5 ç›¸å…³æ¡ç›®

```dataview
list without id 
from ""
where icontains(project, link(this.file.name)) AND contains(tags, "note")
sort stars desc, file.ctime desc
```
