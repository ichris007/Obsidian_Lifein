---
category:
  - 习惯追踪
status:
  - 已完成
tags: 
aliases: 
number headings: off
created date: 2025-04-03 02:25
modified date: 2025-05-11 11:42:14
cssclasses:
  - hide-properties
---
## 习惯追踪汇总表

```dataviewjs
const pages = dv.pages('"00Journal/01DailyNotes"')
  .where((p) => "早起" in p || "读书" in p || "写作" in p || "健身" in p || "社媒分享" in p)
  .sort((p) => p.file.day, "desc")
  .map((p) =>
    Object.create({
      link: p.file.link,
      day: p.file.day,
      早起: p.早起,
      读书: p.读书,
      写作: p.写作,
      健身: p.健身,
      社媒分享: p.社媒分享,
      听播客: p.听播客,
    })
  );

function getRecord(validate) {
  let record = 0;
  let count = 0;
  for (const note of pages) {
    if (validate(note)) {
      count++;
      record = Math.max(record, count);
    } else {
      count = 0;
    }
  }
  return record;
}

const done = "✅";
const skip = "🟥";

const fileRows = pages
  .filter((p) => p.day >= moment().subtract(1, "w"))
  .sort((p) => p.day)
  .map((note) => [
    note.link,
    note.早起 ? done : skip,
    note.读书 ? done : skip,
    note.写作 ? done : skip,
    note.健身 ? done : skip,
    note.社媒分享 ? done : skip,
    note.听播客 ? done : skip,
  ]);

const records = {
  早起: getRecord((note) => note.早起),
  读书: getRecord((note) => note.读书),
  写作: getRecord((note) => note.写作),
  健身: getRecord((note) => note.健身),
  社媒分享: getRecord((note) => note.社媒分享),
  听播客: getRecord((note) => note.听播客),
};

dv.table(
  ["[[习惯追踪]]", "🌅", "📖", "✍🏼 ", "💪🏼", "📢", "👂"],
  [
    ...fileRows,
    ["‎"], // 空行分隔
    ["**Record**", records.早起, records.读书, records.写作, records.健身, records.社媒分享, records.听播客],
  ]
);
```

## 习惯追踪
> [!multi-column]
>
> ```tracker
> searchType: frontmatter
> searchTarget: 读书, 听播客
> datasetName: 读书, 听播客
> folder: 00Journal/01DailyNotes
> dateFormat: WW_YYYYMMDD
> startDate: 01_20250301
> fixedScale: 0.85
> fitPanelWidth: false
> margin: 0, 0, 0, 0
> month:
> 	startWeekOn: 'Mon'
> ```
> 
> ```tracker
> searchType: frontmatter
> searchTarget: 写作, 社媒分享
> datasetName: 写作, 社媒分享
> folder: 00Journal/01DailyNotes
> dateFormat: WW_YYYYMMDD
> startDate: 01_20250301
> fixedScale: 0.85
> fitPanelWidth: false
> margin: 10, 0, 10, 10
> month:
> 	startWeekOn: 'Mon'
> 	color: green
> 	headerMonthColor: steelblue
> 	todayRingColor: steelblue
> 	selectedRingColor: orange
> ```
>

```tracker
searchType: frontmatter
searchTarget: 健身, 早起
datasetName: 健身, 早起
folder: 00Journal/01DailyNotes
dateFormat: WW_YYYYMMDD
startDate: 10_20250303
fixedScale: 0.85
fitPanelWidth: false
margin: 0, 0, 0, 0
month:
	startWeekOn: 'Mon'
	color: green
	headerMonthColor: steelblue
	todayRingColor: steelblue
	selectedRingColor: orange
```
## 健康追踪
> [!multi-column]
>
> ```tracker
> searchType: frontmatter
> searchTarget: 睡眠时长
> datasetName: 睡眠时长
> folder: 00Journal/01DailyNotes
> dateFormat: WW_YYYYMMDD
> startDate: 01_20250501
> fixedScale: 0.75
> fitPanelWidth: false
> margin: 10, 10, 10, 0
> bar: 
> 	title: 睡眠时长
>     yAxisLabel: 时长
>     yAxisUnit: 小时
>     yMin: 0
>     showLegend: true
>     barColor: darkolivegreen
> ```
>
> ```tracker
> searchType: frontmatter
> searchTarget: 体重
> datasetName: 体重
> folder: 00Journal/01DailyNotes
> dateFormat: WW_YYYYMMDD
> startDate: 01_20250501
> aspectRatio: 1:1
> fixedScale: 0.75
> fitPanelWidth: false
> margin: 10, 0, 10, 10
> line:
>     title: 体重
>     yAxisLabel: 体重
>     yAxisUnit: kg
>     showLegend: true
>     legendPosition: bottom
>     lineColor: purple
> ```
>

